# ScanDoc - приложение для распознавания бухгалтерских документов

# Рекомендации к использованию

## Необходимое ПО:
*Обязательные*
- Python 3.12
- Tesseract
- Кодировка UTF-8
- WebView2 (для GUI компонента)

*Необязательные*
- GhostScript (обработка pdf файлов)

## Инициализация
Оба компонента (CLI и GUI) требуют **обязательной** одноразовой инициализации.  
*(время выполнения: 3-15 минут)*

#### Процесс инициализации включает в себя:
- Проверка и создание локального хранилища *(1-5 сек)*
- Проверка наличия Tesseract *(1-5 сек)*
- Проверка наличия кодировки UTF-8 *(1-5 сек)*
- Проверка наличия Python 3.12 *(1-5 сек)*
- Установка необходимых зависимостей *(3-15 мин)*

Для каждого из компонентов существуют свои команды для ее исполнения:
#### CLI: 
```
scandoc.exe init
```
#### GUI:
```
кнопка в пользовательском интерфейсе (ИНИЦИАЛИЗАЦИЯ)
(при первом запуске, возможно закрытие приложения, запустите приложение снова и после запуска подождите 1-5 секунд)
```

## Функционал:
- Обработка типовых документов: **ТОРГ-12, Счёт-фактура, УПД**
- Поддержка следующих форматов файлов: **.jpg, .jpeg, .png, .pdf**
- Однофайловая / пакетная обработки
- Ведение логов работы приложения
- Локальное хранилище для обработанных файлов
- Поддержка конфигурации приложения
- Редактирование обработанного файла **(только GUI)**

## Ошибки и способы их устранения  
##### Пользовательские ошибки
Наиболее распространенные ошибки связаны с пользовательским вводом: (ошибки передачи путей, расширение файла)  
Вот примеры правильной передачи путей (*в пути к файлу не должно быть кириллицы*):
```
scandoc.exe run_once -f="C:\FolderScans\upd.jpg" -n="result_upd"

scandoc.exe run_multi -d="C:\FolderScans" -n="result_folder_scans"
```
Расширения файлов должны соответствовать поддерживаемым: **.jpg, .jpeg, .png, .pdf**

##### Серверные ошибки
Следующие распространенные ошибки связаны с сервером обработки (сервер не успел запуститься, статус 500)  
- Если вы правильно проинициализировали приложение **(обязательный шаг)**, то для устранения первого типа ошибки, достаточно снова запустить обработку.  
- Статус 500 обычно возвращается, когда пользователь отправляет невалидный документ. В команду обработчик следует класть путь к валидному документу **(УПД, Счёт-фактура, Торг-12)**  
- Также статус 500 может быть когда пользователь использовал в пути к файлу кириллицу.

##### Другие ошибки
Ошибки отсутствия необходимого ПО

Кодировка UTF-8.  
Вот алгоритм для установки кодировки UTF-8:
1) Win + R
2) Введите regedit
3) Перейдите в каталог: HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Command Processor
4) Найдите строковый параметр Autorun (тип REG_SZ), если его нет, создайте новый
5) Установите значение @chcp 65001>nul
6) Нажмите Ок

Проверьте наличие необходимого ПО в PATH:
1) Python (*должен быть не Microsoft/WindowsApps*)
2) Tesseract 
3) GhostScript

Проверить можно в CMD: `<название> --version`

## Директория установки
Для корректной работы приложения устанавливайте его не в системные папки.

## Руководство к использованию
Настоящее руководство к использованию рабочего приложения ScanDoc находится в репозитории.



